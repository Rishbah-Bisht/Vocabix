<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number to Fraction Chart</title>
       <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Using the color palette you provided */
        :root {
            --primary: #8e44ad;
            --primary-light: #ffffff;
            --primary-dark: #732d91;
            --correct: #4caf50;
            --wrong: #f44336;
            --bg: #f5f7fa;
            --card-bg: #ffffff;
            --text-dark: #333;
            --text-light: #202020;
            --border: #e0e0e0;
        }

        /* General page styling */
     
        /* The main card containing the table */
        .table-card {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px M30px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 100%;
            max-width: 600px;
            margin: auto;
        }

        h1 {
            color: var(--primary-dark);
            margin-top: 0;
            margin-bottom: 25px;
        }
        
        /* Table styling */
        table {
            width: 100%;
            border-collapse: collapse; /* Clean look for borders */
        }

        th, td {
            padding: 15px;
            text-align: center;
            font-size: 1.1em;
            border-bottom: 1px solid var(--border);
        }

        th {
            background-color: var(--primary);
            color: white;
            font-weight: 600;
        }
        
        /* Zebra-striping for rows */
        tr:nth-child(even) {
            background-color: var(--bg);
        }

        tr:last-child td {
            border-bottom: none; /* Remove border on the last row */
        }



.quiz-card {
    background: var(--card-bg);
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    text-align: center;
    width: 90%;
    max-width: 500px;
    margin: auto;
}

h1 {
    color: var(--primary-dark);
    margin-bottom: 20px;
}

.question {
    font-size: 1.2em;
    color: var(--text-dark);
    margin-bottom: 20px;
}

.options {
    display: grid;
    gap: 10px;
}

.option {
    background-color: var(--primary-light);
    color: rgb(38, 38, 38);
    padding: 12px;
    border: none;
    border-radius: 8px;
    font-size: 1em;
    cursor: pointer;
    transition: 0.3s;
}



.correct {
    background-color: var(--correct) !important;
}

.wrong {
    background-color: var(--wrong) !important;
}

#next-btn {
    margin-top: 20px;
    background-color: var(--primary);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 10px 20px;
    font-size: 1em;
    cursor: pointer;
    display: none;
}

#next-btn:hover {
    background-color: var(--primary-dark);
}
</style>


</head>
<body>

     <%- include('../partial/nav_bar', { currentPage: 'percentage' }) %>
 <div class="container">

<div class="quiz-card">
    <h1>Number to Fraction Quiz</h1>
    <div class="question" id="question">Loading...</div>
    <div class="options" id="options"></div>
    <button id="next-btn">Next</button>
</div>
</div>
<script>
    const data = [
        { percent: "100%", fraction: "1/1" },
        { percent: "50%", fraction: "1/2" },
        { percent: "33.33%", fraction: "1/3" },
        { percent: "25%", fraction: "1/4" },
        { percent: "20%", fraction: "1/5" },
        { percent: "16.66%", fraction: "1/6" },
        { percent: "14.28%", fraction: "1/7" },
        { percent: "12.5%", fraction: "1/8" },
        { percent: "11.11%", fraction: "1/9" },
        { percent: "10%", fraction: "1/10" },
        { percent: "9.09%", fraction: "1/11" },
        { percent: "8.33%", fraction: "1/12" },
        { percent: "6.25%", fraction: "1/16" },
        { percent: "75%", fraction: "3/4" },
        { percent: "60%", fraction: "3/5" },
        { percent: "42.84%", fraction: "3/7" },
        { percent: "62.5%", fraction: "5/8" },
        { percent: "28.56%", fraction: "2/7" },
        { percent: "37.5%", fraction: "3/8" },
        { percent: "83.33%", fraction: "5/6" },
    ];

    let usedQuestions = [];
    const questionEl = document.getElementById("question");
    const optionsEl = document.getElementById("options");
    const nextBtn = document.getElementById("next-btn");

    function getRandomQuestion() {
        if (usedQuestions.length === data.length) {
            usedQuestions = []; // reset when all used
        }
        let randomIndex;
        do {
            randomIndex = Math.floor(Math.random() * data.length);
        } while (usedQuestions.includes(randomIndex));

        usedQuestions.push(randomIndex);
        return data[randomIndex];
    }

    function loadQuestion() {
        const question = getRandomQuestion();
        questionEl.textContent = `What is the fraction equivalent of ${question.percent}?`;

        const correct = question.fraction;
        const options = [correct];

        // Get 3 random wrong options
        while (options.length < 4) {
            const random = data[Math.floor(Math.random() * data.length)].fraction;
            if (!options.includes(random)) options.push(random);
        }

        // Shuffle options
        options.sort(() => Math.random() - 0.5);

        optionsEl.innerHTML = "";
        options.forEach(opt => {
            const btn = document.createElement("button");
            btn.classList.add("option");
            btn.textContent = opt;
            btn.onclick = () => checkAnswer(btn, correct);
            optionsEl.appendChild(btn);
        });

        nextBtn.style.display = "none";
    }

    function checkAnswer(selectedBtn, correct) {
        const buttons = document.querySelectorAll(".option");
        buttons.forEach(btn => btn.disabled = true);
        if (selectedBtn.textContent === correct) {
            selectedBtn.classList.add("correct");
        } else {
            selectedBtn.classList.add("wrong");
            buttons.forEach(btn => {
                if (btn.textContent === correct) btn.classList.add("correct");
            });
        }
        nextBtn.style.display = "inline-block";
    }

    nextBtn.addEventListener("click", loadQuestion);

    loadQuestion();
</script>
</body>
</html>